<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Dashboard</title>
  <link rel="stylesheet" href="styles.css">
  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <!-- Leaflet JS -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

  <script>
    // Redirect to login if not authenticated
    if (!sessionStorage.getItem('authenticated')) {
      window.location.href = 'login.html';
    }
  </script>
</head>
<body>
  <div class="dashboard">
    <header>
      <span class="icon">🚀</span>
      <span class="title">DASHBOARD</span>
    </header>
    <main>
      <div class="row">
        <section class="map-section">
          <div id="map"></div>
        </section>
        <aside>
          <div class="tools">
            <h3>Map Tools</h3>
            <div class="tool-buttons">
              <button>➕ Add Marker</button>
              <button>🔍 Zoom In</button>
              <button>🔎 Zoom Out</button>
              <button>🧭 Reset View</button>
              <button>🌍 Satellite View</button>
              <button>🗺️ Terrain View</button>
            </div>
          </div>
          <div class="controls">
            <h3>Rover Controls</h3>
            <div class="control-buttons">
              <button>🎮 Manual Control</button>
              <button>👤 Auto Mode</button>
              <button>🔴 Start Systems</button>
              <button>🛑 Stop Systems</button>
              <button>📷 Capture Image</button>
              <button>📹 Start Video Stream</button>
            </div>
          </div>
        </aside>
      </div>
      <section class="video-stream-section">
        <h3>Video Stream</h3>
        <div class="video-placeholder">Loading video stream...</div>
        <video id="realsenseStream" autoplay playsinline muted width="640" height="480"></video>

      </section>
    </main>
    <footer>
      <div class="info-box">
        <span>Speed</span>
        <span id="speed">5.2 km/h</span>
      </div>
      <div class="info-box">
        <span>Battery</span>
        <span id="battery">100%</span>
      </div>
      <div class="info-box">
        <span>GPS Accuracy</span>
        <span id="gps">2.0 m</span>
      </div>
      <div class="info-box">
        <span>Mode</span>
        <span id="task">Idle</span>
      </div>
    </footer>
  </div>
  <script src="config.js"></script>
  <script src="script.js"></script>
</body>
</html>
