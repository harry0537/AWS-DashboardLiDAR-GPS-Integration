<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>AWS Dashboard - EC2 Integration</title>
  <link rel="stylesheet" href="styles.css">
  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <!-- Leaflet JS -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

  <script>
    // Redirect to login if not authenticated
    if (!sessionStorage.getItem('authenticated')) {
      window.location.href = 'login.html';
    }
  </script>
</head>
<body>
  <div class="dashboard">
    <header>
      <span class="icon">🚀</span>
      <span class="title">AWS DASHBOARD - EC2 Integration</span>
      <span class="subtitle">Connected to Existing Infrastructure</span>
    </header>
    <main>
      <div class="row">
        <section class="map-section">
          <div id="map"></div>
        </section>
        <aside>
          <div class="tools">
            <h3>Map Tools</h3>
            <div class="tool-buttons">
              <button>➕ Add Marker</button>
              <button>🔍 Zoom In</button>
              <button>🔎 Zoom Out</button>
              <button>🧭 Reset View</button>
              <button>🌍 Satellite View</button>
              <button>🗺️ Terrain View</button>
            </div>
          </div>
          <div class="controls">
            <h3>Rover Controls</h3>
            <div class="control-buttons">
              <button>🎮 Manual Control</button>
              <button>👤 Auto Mode</button>
              <button>🔴 Start Systems</button>
              <button>🛑 Stop Systems</button>
              <button>📷 Capture Image</button>
              <button>📹 Start Video Stream</button>
            </div>
          </div>
        </aside>
      </div>
      
      <!-- Sensor Data Section -->
      <section class="sensor-data-section">
        <h3>Sensor Status & Data</h3>
        <div class="sensor-grid">
          <div id="gps-info" class="sensor-card">
            <h4>GPS Status</h4>
            <p>Loading...</p>
          </div>
          <div id="lidar-info" class="sensor-card">
            <h4>LiDAR Status</h4>
            <p>Loading...</p>
          </div>
          <div id="ultrasonic-info" class="sensor-card">
            <h4>Ultrasonic Status</h4>
            <p>Loading...</p>
          </div>
          <div id="battery" class="sensor-card">
            <h4>Battery Status</h4>
            <p>Loading...</p>
          </div>
        </div>
      </section>
      
      <!-- Obstacle Status Indicator -->
      <div id="obstacle-status" class="obstacle-indicator status-unknown">
        NO DATA
      </div>
      
      <section class="video-stream-section">
        <h3>Video Stream</h3>
        <div class="video-placeholder">Loading video stream...</div>
        <video id="realsenseStream" autoplay playsinline muted width="640" height="480"></video>
      </section>
    </main>
    <footer>
      <div class="info-box">
        <span>Speed</span>
        <span id="speed">-- km/h</span>
      </div>
      <div class="info-box">
        <span>Battery</span>
        <span id="battery">-- V</span>
      </div>
      <div class="info-box">
        <span>GPS Accuracy</span>
        <span id="gps">-- HDOP</span>
      </div>
      <div class="info-box">
        <span>Mode</span>
        <span id="task">Connecting...</span>
      </div>
    </footer>
  </div>
  <script src="config.js"></script>
  <script src="script.js"></script>
</body>
</html>
